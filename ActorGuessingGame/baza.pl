
%% fakty

%%	gral_w(Aktor,Film) - Aktor gral w Filmie
gral_w(robert_de_niro,taxi_driver).
gral_w(robert_de_niro,raging_bull).
gral_w(robert_de_niro,goodfellas).
gral_w(robert_de_niro,the_deer_hunter).
gral_w(robert_de_niro,heat).
gral_w(anthony_hopkins,the_silence_of_the_lambs).
gral_w(anthony_hopkins,meet_joe_black).
gral_w(anthony_hopkins,hannibal).
gral_w(anthony_hopkins,red_dragon).
gral_w(al_pacino,the_godfather).
gral_w(al_pacino,scarface).
gral_w(al_pacino,heat).
gral_w(al_pacino,scent_of_a_woman).
gral_w(helena_bonham_carter,fight_club).
gral_w(helena_bonham_carter,the_kings_speech).
gral_w(helena_bonham_carter,sweeney_todd).
gral_w(helena_bonham_carter,harry_potter_and_the_order_of_phoenix).

gral_postac(robert_de_niro,taxi_driver,glowny_bohater).
gral_postac(robert_de_niro,taxi_driver,zwykly_czlowiek).
gral_postac(robert_de_niro,taxi_driver,taksowkarz).
gral_postac(robert_de_niro,taxi_driver,dobra_postac).
gral_postac(robert_de_niro,raging_bull,glowny_bohater).
gral_postac(robert_de_niro,raging_bull,bokser).
gral_postac(robert_de_niro,raging_bull,sportowiec).
gral_postac(robert_de_niro,raging_bull,dobra_postac).
gral_postac(robert_de_niro,raging_bull,czarny_charakter).
gral_postac(robert_de_niro,heat,glowny_bohater).
gral_postac(robert_de_niro,heat,przestepca).
gral_postac(robert_de_niro,heat,czarny_charakter).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,glowny_bohater).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,przestepca).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,psychopata).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,intelektualista).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,czarny_charakter).
gral_postac(anthony_hopkins,the_silence_of_the_lambs,ekscentryk).
gral_postac(anthony_hopkins,meet_joe_black,bohater_drugoplanowy).
gral_postac(anthony_hopkins,meet_joe_black,bogacz).
gral_postac(anthony_hopkins,meet_joe_black,intelektualista).
gral_postac(anthony_hopkins,hannibal,glowny_bohater).
gral_postac(anthony_hopkins,hannibal,przestepca).
gral_postac(anthony_hopkins,hannibal,psychopata).
gral_postac(anthony_hopkins,hannibal,intelektualista).
gral_postac(anthony_hopkins,hannibal,czarny_charakter).
gral_postac(anthony_hopkins,hannibal,ekscentryk).
gral_postac(anthony_hopkins,red_dragon,glowny_bohater).
gral_postac(anthony_hopkins,red_dragon,przestepca).
gral_postac(anthony_hopkins,red_dragon,psychopata).
gral_postac(anthony_hopkins,red_dragon,intelektualista).
gral_postac(anthony_hopkins,red_dragon,czarny_charakter).
gral_postac(anthony_hopkins,red_dragon,ekscentryk).
gral_postac(al_pacino,the_godfather,glowny_bohater).
gral_postac(al_pacino,the_godfather,przestepca).
gral_postac(al_pacino,the_godfather,dobra_postac).
gral_postac(al_pacino,the_godfather,czarny_charakter).
gral_postac(al_pacino,scarface,glowny_bohater).
gral_postac(al_pacino,scarface,przestepca).
gral_postac(al_pacino,scarface,czarny_charakter).
gral_postac(al_pacino,scarface,bogacz).
gral_postac(al_pacino,heat,glowny_bohater).
gral_postac(al_pacino,heat,policjant).
gral_postac(al_pacino,heat,dobra_postac).
gral_postac(al_pacino,scent_of_a_woman,glowny_bohater).
gral_postac(al_pacino,scent_of_a_woman,niewidomy).
gral_postac(al_pacino,scent_of_a_woman,inwalida).
gral_postac(al_pacino,scent_of_a_woman,dobra_postac).
gral_postac(al_pacino,scent_of_a_woman,zolnierz).
gral_postac(helena_bonham_carter,fight_club,glowny_bohater).
gral_postac(helena_bonham_carter,fight_club,ekscentryk).
gral_postac(helena_bonham_carter,fight_club,dobra_postac).
gral_postac(helena_bonham_carter,the_kings_speech,glowny_bohater).
gral_postac(helena_bonham_carter,the_kings_speech,bogacz).
gral_postac(helena_bonham_carter,the_kings_speech,czlowiek_wladzy).
gral_postac(helena_bonham_carter,the_kings_speech,dobra_postac).
gral_postac(helena_bonham_carter,sweeney_todd,glowny_bohater).
gral_postac(helena_bonham_carter,sweeney_todd,ekscentryk).
gral_postac(helena_bonham_carter,sweeney_todd,dobra_postac).
gral_postac(helena_bonham_carter,harry_potter_and_the_order_of_phoenix,postac_drugoplanowa).
gral_postac(helena_bonham_carter,harry_potter_and_the_order_of_phoenix,czarny_charakter).
gral_postac(helena_bonham_carter,harry_potter_and_the_order_of_phoenix,czarodziej).
gral_postac(helena_bonham_carter,harry_potter_and_the_order_of_phoenix,przestepca).

%%	rezyserowal(Rezyser,Film) - Rezyser rezyserowal Film
rezyserowal(martin_scorsese,taxi_driver).
rezyserowal(martin_scorsese,raging_bull).
rezyserowal(martin_scorsese,goodfellas).
rezyserowal(michael_cimino,the_deer_hunter).
rezyserowal(jonathan_demme,the_silence_of_the_lambs).
rezyserowal(martin_brest,meet_joe_black).
rezyserowal(ridley_scott,hannibal).
rezyserowal(brett_ratner,red_dragon).
rezyserowal(francis_ford_coppola,the_godfather).
rezyserowal(brian_de_palma,scarface).
rezyserowal(michael_mann,heat).
rezyserowal(martin_brest,scent_of_a_woman).
rezyserowal(david_fincher,fight_club).
rezyserowal(tom_hooper,the_kings_speech).
rezyserowal(tim_burton,sweeney_todd).
rezyserowal(david_yates,harry_potter_and_the_order_of_phoenix).

%%	film_z_serii(Film,Seria) - Film nalezy do Serii
film_z_serii(harry_potter_and_the_order_of_phoenix,harry_potter_series).
film_z_serii(the_silence_of_the_lambs,hannibal_series).
film_z_serii(hannibal,hannibal_series).
film_z_serii(red_dragon,hannibal_series).
film_z_serii(the_godfather,the_godfather_series).

%%	plec(Aktor,Plec) - Aktor danej Plci
plec(robert_de_niro,mezczyzna).
plec(anthony_hopkins,mezczyzna).
plec(al_pacino,mezczyzna).
plec(helena_bonham_carter,kobieta).

%%	cechy_szczegolne(Aktor,Cecha) - Aktor charakteryzuje sie Cecha
cechy_szczegolne(robert_de_niro,pieprzyk_na_policzku).
cechy_szczegolne(anthony_hopkins,spokojny_glos).
cechy_szczegolne(al_pacino,chrapliwy_glos).
cechy_szczegolne(helena_bonham_carter,wlosy_w_nieladzie).
cechy_szczegolne(helena_bonham_carter,ciemny_makijaz).

%%czesto_gra(robert_de_niro,czarny_charakter).
%%czesto_gra(robert_de_niro,podejrzany_typ).
%%czesto_gra(robert_de_niro,kryminalista).
%%czesto_gra(anthony_hopkins,podejrzany_typ).
%%czesto_gra(anthony_hopkins,postac_historyczna).
%%czesto_gra(anthony_hopkins,inteligent).
%%czesto_gra(anthony_hopkins,ekscentryk).
%%czesto_gra(al_pacino,kryminalista).
%%czesto_gra(al_pacino,czlowiek_wladzy).
%%czesto_gra(helena_bonham_carter,ekscentryk).
%%czesto_gra(helena_bonham_carter,postac_historyczna).

%% czesto_pracuje_z(robert_de_niro,martin_scorsese).
%% czesto_pracuje_z(helena_bonham_carter,tim_burton).
%% czesto_pracuje_z(helena_bonham_carter,johnny_depp).


%%	reguly
%%	wspolpracowal_z(Osoba,Osoba2) - obie Osoby graly w jednym filmie
%	lub jedna z nich rezyserowala film w ktorym grala druga Osoba
wspolpracowal_z(Aktor1,Aktor2) :-
	gral_w(Aktor1,Film),
	gral_w(Aktor2,Film),
	\+ Aktor1 == Aktor2.
wspolpracowal_z(Aktor,Rezyser) :-
	gral_w(Aktor,Film),
	rezyserowal(Rezyser,Film),
	\+ Aktor == Rezyser.
wspolpracowal_z(Rezyser,Aktor) :-
	gral_w(Aktor,Film),
	rezyserowal(Rezyser,Film),
	\+ Aktor == Rezyser.

%%	gral_w_serii(Aktor,Seria) - Aktor gral w filmie nalezacym do
%	Serii
gral_w_serii(Aktor,Seria) :-
	gral_w(Aktor,Film),
	film_z_serii(Film,Seria).

%%	wspolpracownicy(Aktor,Lista) - Lista osob z ktorymi dany Aktor
%	wspolpracowal
wspolpracownicy(Aktor, Lista) :-
	findall(ListaTmp,wspolpracowal_z(Aktor,ListaTmp),ListaTmp),
	sort(ListaTmp,Lista).

%%	czesto_pracuje_z(Aktor,Aktor2) - Aktor wspolpracowal z Aktorem2
%	przynajmniej tyle razy ile wynosi polowa liczby osob z ktorymi
%	pracowal
czesto_pracuje_z(Aktor,Aktor2) :-
	wspolpracownicy(Aktor,Lista),
	member(Aktor2,Lista),
	bagof(Aktor,wspolpracowal_z(Aktor,Aktor2),IleRazy),
	length(Lista,ZIlomaPracowal),
	length(IleRazy,IleRazyZAktor2),
	IleRazyZAktor2 > ZIlomaPracowal / 2.

%%	gdzie_gral(Aktor,Lista) - Lista filmow w ktorych gral Aktor
gdzie_gral(Aktor,Lista) :-
	findall(ListaTmp,gral_w(Aktor,ListaTmp),ListaTmp),
	sort(ListaTmp,Lista).

%%	ile_razy_gral(Aktor,Rola,Ile) - Ile razy dany Aktor gral dana
%	Role
ile_razy_gral(Aktor,Rola,Ile) :-
	bagof(Film,gral_postac(Aktor,Film,Rola),Lista),
	sort(Lista,Lista2),
	length(Lista2,Ile).

%%	wszystkie_role(Aktor,Lista) - Lista wszystkich rol granych przez
%	danego Aktora
wszystkie_role(Aktor,Lista) :-
	findall(ListaTmp,gral_postac(Aktor,_,ListaTmp),ListaTmp),
	sort(ListaTmp,Lista).

%%	czesto_gra(Aktor,Rola) - Aktor gral dana Role przynajmniej tyle
%	razy ile wynosi polowa ilosci filmow w ktorych gral
czesto_gra(Aktor,Rola) :-
	wszystkie_role(Aktor,Lista),
	member(Rola,Lista),
        ile_razy_gral(Aktor,Rola,IleRazy),
	gdzie_gral(Aktor,ListaFilmow),
	length(ListaFilmow,IloscFilmow),
	IleRazy > IloscFilmow / 2.
